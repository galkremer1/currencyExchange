{"version":3,"sources":["chart/CandleStickChart.js","App.js","utils/utils.js","index.js"],"names":["CandleStickChartWithAnnotation","margin","left","right","top","bottom","_this$props","this","props","type","initialData","data","width","ratio","chartTitle","yAxisLabelX","yAxisLabelY","_xScaleProvider","discontinuousTimeScaleProvider","inputDateAccessor","d","date","xScaleProvider","xScale","xAccessor","displayXAccessor","xExtents","last","Math","max","length","react_default","a","createElement","es","height","seriesName","annotation","x","y","fontSize","text","id","yExtents","high","low","padding","axes","axisAt","orient","coordinates","at","displayFormat","timeFormat","format","ticks","rotate","series","itemType","edgeAt","yAccessor","close","fill","open","tooltip","origin","strokeDasharray","React","Component","defaultProps","fitWidth","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setData","timeInterval","currency","state","fetch","then","response","JSON","parse","map","objectSpread","Date","reverse","getData","setState","selectedTimeInterval","_this2","classes","_this$state","className","value","label","option","Button_default","variant","color","button","onClick","CandleStickChart","withStyles","theme","spacing","unit","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.092032ed.chunk.js","sourcesContent":["\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\n\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\nimport { CandlestickSeries } from \"react-stockcharts/lib/series\";\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\nimport {\n\tCrossHairCursor,\n\tEdgeIndicator,\n\tMouseCoordinateX,\n\tMouseCoordinateY,\n} from \"react-stockcharts/lib/coordinates\";\n\nimport { Label } from \"react-stockcharts/lib/annotation\";\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\nimport { OHLCTooltip } from \"react-stockcharts/lib/tooltip\";\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\nimport { last } from \"react-stockcharts/lib/utils\";\n\nclass CandleStickChartWithAnnotation extends React.Component {\n\trender() {\n\t\tconst margin = { left: 80, right: 80, top: 30, bottom: 50 };\n\t\tconst height = 400;\n\t\tconst { type, data: initialData, width, ratio, chartTitle} = this.props;\n\n\t\tconst [yAxisLabelX, yAxisLabelY] = [\n\t\t\twidth - margin.left - 40,\n\t\t\t(height - margin.top - margin.bottom) / 2\n\t\t];\n\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\n\t\t\t.inputDateAccessor(d => d.date);\n\t\tconst {\n\t\t\tdata,\n\t\t\txScale,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor,\n\t\t} = xScaleProvider(initialData);\n\n\t\tconst start = xAccessor(last(data));\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\n\t\tconst xExtents = [start, end];\n\n\t\treturn (\n\t\t\t<ChartCanvas height={height}\n\t\t\t\t\tratio={ratio}\n\t\t\t\t\twidth={width}\n\t\t\t\t\tmargin={margin}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tseriesName=\"MSFT\"\n\t\t\t\t\tdata={data}\n\t\t\t\t\txScale={xScale}\n\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\tdisplayXAccessor={displayXAccessor}\n\t\t\t\t\txExtents={xExtents}>\n\n\t\t\t\t<Label x={(width - margin.left - margin.right) / 2} y={30}\n\t\t\t\t\tfontSize=\"30\" text={chartTitle} />\n\n\t\t\t\t<Chart id={1}\n\t\t\t\t\t\tyExtents={[d => [d.high, d.low]]}\n\t\t\t\t\t\tpadding={{ top: 10, bottom: 20 }}>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\"/>\n\t\t\t\t\t<MouseCoordinateX\n\t\t\t\t\t\tat=\"bottom\"\n\t\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\n\t\t\t\t\t<Label x={(width - margin.left - margin.right) / 2} y={height - 45}\n\t\t\t\t\t\tfontSize=\"12\" text=\"XAxis Label here\" />\n\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} />\n\n\t\t\t\t\t<Label x={yAxisLabelX} y={yAxisLabelY}\n\t\t\t\t\t\trotate={-90}\n\t\t\t\t\t\tfontSize=\"12\" text=\"YAxis Label here\" />\n\n\t\t\t\t\t<CandlestickSeries />\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\n\t\t\t\t\t\tyAccessor={d => d.close} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"}/>\n\n\t\t\t\t\t<OHLCTooltip origin={[-40, 0]}/>\n\n\t\t\t\t</Chart>\n\t\t\t\t<CrossHairCursor strokeDasharray=\"LongDashDot\" />\n\n\t\t\t</ChartCanvas>\n\t\t);\n\t}\n}\n\nCandleStickChartWithAnnotation.propTypes = {\n\tdata: PropTypes.array.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tratio: PropTypes.number.isRequired,\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n};\n\nCandleStickChartWithAnnotation.defaultProps = {\n\ttype: \"svg\",\n};\n\nCandleStickChartWithAnnotation = fitWidth(CandleStickChartWithAnnotation);\n\nexport default CandleStickChartWithAnnotation;\n","import React, { Component } from 'react';\nimport './App.css';\nimport CandleStickChart from './chart/CandleStickChart';\nimport { getData } from \"./utils/utils\";\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing.unit,\n  }\n});\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null,\n      currency: 'eur-usd',\n      timeInterval: 'MIN_1'\n    }\n  }\n\n  componentDidMount() {\n    const {timeInterval} = this.state;\n    this.setData(timeInterval);\n  }\n\n  setData = (timeInterval) => {\n    const { currency} = this.state;\n    getData(timeInterval, currency).then(data => {\n      this.setState({ data, \n      selectedTimeInterval: timeInterval })\n\t\t})\n  }\n  \n  render() {\n    const { classes } = this.props;\n    const { selectedTimeInterval, currency } = this.state;\n    const timeIntervalOptions = [\n      {value: 'MIN_1',\n      label: '1 Minute'}, \n      {value: 'MIN_5',\n      label: '5 Minutes'}, \n      {value: 'HOUR_1',\n      label: '1 Hour'}, \n      {value: 'WEEK_1',\n      label: '1 Week'}];\n    if (this.state.data == null) {\n\t\t\treturn <div>Loading...</div>\n\t\t} else return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          Currency Chart : {currency}\n        </header>\n        <div>\n          <span>Time Interval: </span>\n          {timeIntervalOptions.map((option)=>{\n            return (<Button variant=\"contained\" color=\"primary\" className={classes.button +  (option.value === selectedTimeInterval ? ' selected': '')}\n            onClick={()=>this.setData(option.value)}>{option.label}</Button>)\n          })}\n        </div>\n        <CandleStickChart chartTitle={''} data={this.state.data} />\n      </div>\n    );\n  }\n}\n\n// export default App;\n\nexport default withStyles(styles)(App);\n\n","export function getData(timeInterval, currency) {\n\tconst promiseData = fetch(\"https://www.fxempire.com/api/v1/en/markets/\" + currency + \"/chart?time=\" + timeInterval )\n\t\t.then(response => response.text())\n        .then((data) => {\n            const dataArr = JSON.parse(data);\n            return dataArr.map(data => ({...data, date: new Date(data.date) })).reverse();\n        });\n    return promiseData;\n    \n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}